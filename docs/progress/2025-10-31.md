# 2025-10-31 進捗ログ

## 全体サマリ
- AGENTS.md と README.md を整備し、参照リンクを仕様書から接続。
- Vitest カバレッジを `npm test -- --coverage` で常時 100% 維持するようテストを増強。
- プリロード IPC ブリッジにモックテストを追加し、Electron 依存を排除。
- React Flow のノード複製処理をユーティリティ化し、ショートカット（Delete / Cmd+ D）でノードとエッジを一括操作できるように改善。
- Quick アクションメニュー（右クリック / Shift+?）を実装し、ノード追加・ラベル編集を GUI から即実行可能に。
- React Flow の型定義を `GraphNodeData` / `GraphEdgeData` で統一し、`useNodesState` などもジェネリクス指定で型安全化。
- ReactFlow コンポーネントのインポートを型エラー回避のため `ReactFlow as ReactFlowComponent` に切り替え。
- 画像処理ノード（Resize / Crop / Blend）をバックエンドに追加し、カタログ API に `description` / `defaultOutputs` を拡張。プレビュー HUD にはノード数とパイプライン概要を表示。

## メモ
- context7 を参照しながら最新ドキュメントをチェックする運用ルールを `context7_usage_policy` に記録済み。
- 以降カスタム nodeTypes / edgeTypes を追加する場合も型が崩れない構成になっている。
- `docs/event_protocol.md` を更新し、ノードカタログ API の追加フィールドと画像処理ノードの導入を記録。

## 次回以降の TODO
1. プレビュー生成タイミング（ノード編集・自動保存・復旧）ごとに `schedulePreview` を再点検し、抜け漏れを洗い出す。
2. 画像処理ノードを含むサンプルプロジェクトを追加し、保存→再読込→プレビューまでの回帰テストを自動化。
3. `docs/benchmarks/history` の再集計スクリプトを実行して、新パイプラインのベンチ結果を反映。
